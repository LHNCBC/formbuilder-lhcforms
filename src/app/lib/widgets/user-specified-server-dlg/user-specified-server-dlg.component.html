<div role="dialog" aria-labelledby="userServerDlgTitle">
  <div id="userServerDlgTitle" class="modal-header bg-primary text-white">
    <span class="modal-title h5">Add your FHIR server</span>
    <button type="button" class="btn-close btn-close-white" aria-label="Close" (click)="activeModal.dismiss('Cancel')">
    </button>
  </div>
  <div class="modal-body">
    @if (!valid) {
      <div class="ng-invalid"></div>
    }
    @if (valid) {
      <div class="ng-valid"></div>
    }
    @if (message) {
      <p class="text-success" role="alert" aria-atomic="true">{{message}}</p>
    }
    @if (errorMessage) {
      <p class="text-danger" role="alert" aria-atomic="true">{{errorMessage}}</p>
    }
    <label for="urlInputId">Specify base URL of your FHIR server</label>
    <div class="input-group input-group-sm">
      <input id="urlInputId" ngModel #urlInput="ngModel" type="url" required class="form-control"
        placeholder="Enter valid url of your FHIR server"
        aria-label=""
        aria-describedby="filterHelp">
      <button
        class="align-self-baseline btn btn-sm btn-primary input-group-append"
        type="button"
        id="button-addon2"
        [disabled]="urlInput.errors"
        (click)="validateFHIRUrl(urlInput.value)">
        <span>Validate</span>
      </button>
    </div>
  </div>
  <div class="modal-footer btn-group-sm border-0">
    <button type="button" class="btn btn-sm btn-primary" [disabled]="!newServerObj" (click)="activeModal.close(newServerObj)">Add</button>
    <button type="button" class="btn btn-sm btn-primary" (click)="activeModal.dismiss('Cancel')">Cancel</button>
  </div>
</div>
