<div [ngClass]="{'row': true, 'm-0': true}">
  @if (!nolabel) {
    <lfb-label
      [attr.for]="elementId"
      [title]="schema.title"
      [helpMessage]="schema.description"
      class="col-2 ps-0 pe-1 ng-star-inserted"
      [ngClass]="labelClasses"
    ></lfb-label>
  }

  <div [ngClass]="controlClasses" class="col p-0">
    <div class="input-group">
      @if (schema.widget.showExpression) {
        <textarea
          readonly
          aria-label="FHIRPath"
          id="outputExpression"
          [(ngModel)]="expression"
          class="flex-item textarea"
          [formControl]="control"
          class="grayed-out form-control form-control-sm"
        ></textarea>
      }
    </div>
    <button id="editExpression" (click)="editExpression()" class="btn btn-sm btn-light text-primary shadow-sm array-add-button" style="width:100%"
      triggers="manual" placement="bottom top"
      popoverClass=""
      >
      <fa-icon [icon]="faAdd" aria-hidden="true"></fa-icon> Create/edit expression
    </button>
  </div>
</div>

