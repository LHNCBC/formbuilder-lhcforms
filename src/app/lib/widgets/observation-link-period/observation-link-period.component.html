<div [ngClass]="{'row': labelPosition === 'left', 'm-0': true}">
  <lfb-label *ngIf="!nolabel"
             [for]="elementId"
             [title]="schema.title"
             [helpMessage]="schema.description"
             [ngClass]="labelWidthClass+' pl-0 pr-1'"
  ></lfb-label>

  <div class="{{controlWidthClass}} p-0 {{adjustVAlignClass}}">

    <div
         class="btn-group form-check-inline btn-group-sm btn-group-toggle">
      <ng-container *ngFor="let option of ['No', 'Yes']" class="radio">
        <label  class="btn btn-outline-success m-auto" [attr.id]="name+'_'+option">
          <input
            [attr.name]="name"
            [ngModel]="showOlp" (ngModelChange)="onBooleanChange($event)" class="btn-check"
            [value]="option === 'Yes'" type="radio" [attr.disabled]="schema.readOnly ? '' : null"  [attr.aria-controls]="'timeWindowGroup_'+elementId" >
          {{option}}
        </label>
      </ng-container>
    </div>

    <div *ngIf="showOlp">
      <div *ngIf="isCodePresent() else warning" class="row mt-1 ml-auto mr-auto">
        <div class="input-group input-group-sm" [attr.id]="'timeWindowGroup_'+elementId" role="region" aria-live="polite">
          <div class="input-group-prepend">
            <span [attr.id]="'timeWindow_' + elementId" class="input-group-text">Time window</span>
          </div>
          <input autocomplete="off" type="number" [ngModel]="value" (change)="onValueChange($event)" [attr.id]="elementId" [attr.aria-labelledby]="'timeWindow_' + elementId" placeholder="" class="form-control" />
          <div class="input-group-append">
            <select [ngModel]="unitIndex" (ngModelChange)="onUnitChange($event)" aria-label="Time window units"
                    class="form-control lfb-select-append" [attr.id]="'select_'+elementId">
              <ng-container>
                <option *ngFor="let option of unitOptions; index as i"
                        [ngValue]="i">{{option.unit}}</option>
              </ng-container>
            </select>
          </div>
        </div>
      </div>
    </div>

    <ng-template #warning>
      <p class="alert alert-warning mt-1" role="alert">Linking to FHIR Observation requires a code assigned to this item. Please enter a code before entering the time window.</p>
    </ng-template>
  </div>
</div>
