<ng-container>
  <div [ngClass]="{'row': true, 'm-0': true}">
    @if (!nolabel) {
      <lfb-label
        [for]="id"
        [title]="schema.title"
        [helpMessage]="schema.description"
        class="col-2 ps-0 pe-1 ng-star-inserted"
        [ngClass]="labelWidthClass + ' ps-0 pe-1'"
      ></lfb-label>
    }
    <div class="col-sm-10 row m-0 p-0" [class.has-error]="errors">
      <input
        [attr.readonly]="schema.readOnly ? true : null"
        class="form-control form-control-sm"
        type="text"
        [attr.id]="'pick-answer_' + linkId"
        #autoComplete
        [ngClass]="{invalid: errors}"
        [attr.aria-invalid]="errors">

      <div style="display: inline-block;">
        @if ((loading$ | async)) {
          <span class="spinner-grow spinner-grow-sm text-primary " role="status" aria-hidden="true"></span>
        }
        @if ((loading$ | async); as status) {
          <span >Loading...</span>
        }
      </div>

      <ul>
        @for (error of errors; track error.code) {
          <ng-container id="errorMessages" role="alert" >
            <li>
              <fa-icon id="error" [icon]="errorIcon" style="color: red"></fa-icon>
              @if (error) {
                <small class="text-danger form-text" role="alert">
                  {{error.modifiedMessage || error.originalMessage}}
                </small>
              }
            </li>
          </ng-container>
        }
      </ul>
    </div>
  </div>
</ng-container>

