<div class="btn-toolbar" role="toolbar" aria-label="Menu bar">
  <div class="btn-group-sm mr-2" role="group" aria-label="Edit form attributes">
    <button type="button" class="btn btn-secondary" (click)="guidingStep = 'fl-editor'" [disabled]="guidingStep === 'fl-editor'">Edit form attributes</button>
  </div>
  <div class="btn-group-sm mr-2" role="group" aria-label="Create questions">
    <button type="button" class="btn btn-secondary" (click)="editItem()" [disabled]="guidingStep === 'item-editor'">Create questions</button>
  </div>
  <div class="btn-group-sm mr-2" role="group" aria-label="View Questionnaire JSON">
    <button type="button" class="btn btn-secondary" (click)="guidingStep = 'qJSON'" [disabled]="guidingStep === 'qJSON'">View Questionnaire JSON</button>
  </div>
  <div class="btn-group-sm mr-2" role="group" aria-label="Start new form">
    <button type="button" class="btn btn-secondary " (click)="startNew()">Start new form</button>
  </div>
  <div class="btn-group-sm mr-2" role="group" aria-label="Save as">
    <button type="button" class="btn btn-secondary" (click)="saveAs()">Save as</button>
  </div>
</div>

<div class="card-body content">
  <app-item-component *ngIf="guidingStep === 'item-editor'" [form]="questionnaire"></app-item-component>
  <div  *ngIf="guidingStep === 'fl-editor'">
    <p>Enter basic information about the form.</p>
    <div class="container-fluid">
      <div class="row">
        <div class="col">
          <ul>
            <li>* fields are required.</li>
            <li>All other fields are optional.</li>
          </ul>
        </div>
        <div *ngIf="notHidden" class="col">
          <input type="checkbox" [(ngModel)]="notHidden">
          <app-auto-complete class="search-box container" placeholder="Search FHIR titles" [options]="acOptions" [searchCallback]="acSearch" (optionSelected)="getForm($event.id)"></app-auto-complete>
        </div>
      </div>
    </div>
    <hr/>
    <div class="container-fluid">
      <sf-form [schema]="qlSchema"
               [model]="questionnaire"
      ></sf-form>
    </div>
    <hr/>
    <div class="btn-toolbar float-right" role="toolbar" aria-label="Toolbar with button groups">
      <div class="btn-group-sm" role="group" aria-label="Advanced fields button">
        <button type="button" class="btn btn-primary mt-4 mr-2" (click)="allFields()">Enter Advanced fields</button>
        <button type="button" class="btn btn-primary mt-4 mr-2" (click)="editItem()">Create questions</button>
      </div>
      <div class="btn-group-sm ml-sm-1" role="group" aria-label="Create questions button">
      </div>
    </div>
  </div>
  <div *ngIf="guidingStep === 'qJSON'">
    <pre>{{ stringify(questionnaire) }}</pre>
  </div>
</div>
